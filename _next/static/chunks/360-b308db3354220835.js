"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[360],{4717:function(e,n,r){r.d(n,{I:function(){return s},p:function(){return a}});var s={root:[{name:"My library",href:"#"},{name:"Ranking",href:"#"},{name:"Quote",href:"#"},{name:"I'm Feeling Lucky",href:"#"}],user:[{name:"Profile",href:"#"},{name:"Settings",href:"#"},{name:"Logout",href:"#"}]},a=[{name:"Literature",items:[{name:"Novel",href:"/tags/novel"},{name:"Essays",href:"/tags/essays"},{name:"Poetry",href:"/tags/poetry"},{name:"Short stories",href:"/tags/short-stories"},{name:"Fairy tale",href:"/tags/fairy-tale"}]},{name:"Pop",items:[{name:"Comics",href:"/tags/comics"},{name:"Reasoning",href:"/tags/reasoning"},{name:"Picture Book",href:"/tags/picture-book"},{name:"Science Fiction",href:"/tags/science-fiction"},{name:"Youth Romance",href:"/tags/youth-romance"},{name:"Fantasy",href:"/tags/fantasy"},{name:"Martial Arts",href:"/tags/martial-arts"}]},{name:"Civilization",items:[{name:"History",href:"/tags/history"},{name:"Philosophy",href:"/tags/philosophy"},{name:"Biography",href:"/tags/biography"},{name:"Design",href:"/tags/design"},{name:"Film",href:"/tags/film"},{name:"Architecture",href:"/tags/architecture"},{name:"Memoir",href:"/tags/memoir"},{name:"Music",href:"/tags/music"}]}]},2424:function(e,n,r){var s=r(4678);n.Z=function(e){return Object.entries(e).map((function(e){var n=(0,s.Z)(e,2),r=n[0],a=n[1];return"".concat(r,"=").concat(a)})).join("&")}},5744:function(e,n,r){var s=r(1527),a={Pulse:function(e){var n=e.children,r=e.className;return(0,s.jsx)("div",{className:t(r,"animate-pulse"),children:n})},Line:function(e){var n=e.className;return(0,s.jsx)("div",{className:t(n,"h-2 bg-slate-700 rounded")})},Square:function(e){var n=e.className;return(0,s.jsx)("div",{className:t(n,"bg-slate-700 rounded")})},Circle:function(e){var n=e.className;return(0,s.jsx)("div",{className:t(n,"bg-slate-700 rounded-full")})}};function t(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.filter(Boolean).join(" ")}n.Z=a},9838:function(e,n,r){r.d(n,{Z:function(){return I}});var s=r(8961),a=r(1527),t=r(9461),i=r(5744),l=r(2379),c=r.n(l),o=r(9493),d=r.n(o),u=Object.assign((function(e){var n=e.title,r=e.cover,s=e.author,t=e.id;return(0,a.jsxs)("div",{className:"relative flex flex-col w-28",children:[(0,a.jsx)("figure",{className:"flex justify-center items-center",children:(0,a.jsx)(d(),{href:"/books/".concat(t),children:(0,a.jsx)("a",{className:"relative w-28 h-[calc(7rem/2*3)]",children:(0,a.jsx)(c(),{src:r,layout:"fill",alt:n})})})}),(0,a.jsxs)("div",{className:"flex flex-col text-sm",children:[(0,a.jsx)(d(),{href:"/books/".concat(t),children:(0,a.jsx)("a",{className:"link no-underline text-primary hover:bg-primary hover:text-primary-content focus:bg-primary-focus focus:text-primary-content",children:(0,a.jsx)("h2",{className:"truncate",children:n})})}),(0,a.jsx)("p",{className:"truncate",children:s})]})]})}),{Skeleton:function(){return(0,a.jsxs)(i.Z.Pulse,{className:"relative flex flex-col mb-4 w-28",children:[(0,a.jsx)(i.Z.Square,{className:"mb-2 w-28 h-[calc(7rem/2*3)]"}),(0,a.jsx)(i.Z.Line,{className:"mb-2 w-24"}),(0,a.jsx)(i.Z.Line,{className:"mb-2 w-20"})]})}}),m=Object.assign((function(e){var n=e.title,r=e.cover,s=e.author,t=e.id,i=e.description;return(0,a.jsxs)("div",{className:"flex py-4 gap-3",children:[(0,a.jsx)("figure",{className:"flex justify-center items-center",children:(0,a.jsx)(d(),{href:"/books/".concat(t),children:(0,a.jsx)("a",{className:"relative w-28 h-[calc(7rem/2*3)]",children:(0,a.jsx)(c(),{src:r,layout:"fill",alt:n})})})}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"inline-flex justify-start",children:(0,a.jsx)(d(),{href:"/books/".concat(t),children:(0,a.jsx)("a",{className:"link no-underline text-primary hover:bg-primary hover:text-primary-content focus:bg-primary-focus focus:text-primary-content",children:(0,a.jsx)("h2",{className:"truncate",children:n})})})}),(0,a.jsx)("p",{className:"truncate",children:s}),(0,a.jsx)("p",{className:"truncate",children:i})]})]})}),{Skeleton:function(){return(0,a.jsxs)(i.Z.Pulse,{className:"relative flex mb-4 w-full gap-3",children:[(0,a.jsx)(i.Z.Square,{className:"mb-2 w-28 h-[calc(7rem/2*3)]"}),(0,a.jsxs)("div",{className:"flex flex-col w-full gap-2",children:[(0,a.jsx)(i.Z.Line,{className:"mb-2 w-1/5"}),(0,a.jsx)(i.Z.Line,{className:"mb-2 w-1/6"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Z.Line,{className:"mb-2 w-4/5"}),(0,a.jsx)(i.Z.Line,{className:"mb-2 w-4/5"}),(0,a.jsx)(i.Z.Line,{className:"mb-2 w-4/5"}),(0,a.jsx)(i.Z.Line,{className:"mb-2 w-4/6"})]})]})]})}}),x=u,h=r(343),f=function(e){var n=e.message,r=e.type,s=e.Icon;return(0,a.jsx)("div",{className:"alert alert-".concat(r," shadow-lg"),children:(0,a.jsxs)("div",{children:[(0,a.jsx)(s,{className:"w-6 h-6"}),(0,a.jsx)("span",{children:n})]})})},j={Error:function(e){return(0,a.jsx)(f,(0,s.Z)({type:"error",Icon:h.$Vt},e))},Warning:function(e){return(0,a.jsx)(f,(0,s.Z)({type:"warning",Icon:h.G5O},e))},Info:function(e){return(0,a.jsx)(f,(0,s.Z)({type:"info",Icon:h.h5X},e))},Success:function(e){return(0,a.jsx)(f,(0,s.Z)({type:"success",Icon:h.Mk_},e))}},g=r(6747),v=r(2424);var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e?"/books?".concat((0,v.Z)(e)):"/books",r=(0,g.ZP)(n),s=r.data,a=r.error;return{books:s,isLoading:!a&&!s,isError:a}},N=function(e){var n,r=e.pageIndex,i=void 0===r?0:r,l=(0,t.Z)(e,["pageIndex"]),c=b(l),o=c.books,d=c.isError,u=c.isLoading,m=Array.from({length:Math.ceil(l.limit/10)},(function(e,n){return null===o||void 0===o?void 0:o.slice(10*n,10*(n+1))}));return(0,a.jsxs)("div",{className:"flex flex-wrap gap-6 my-8 w-full",children:[d&&(0,a.jsx)(j.Error,{message:"Network Error!"}),u?Array.from({length:10},(function(e,n){return(0,a.jsx)(x.Skeleton,{},n)})):null===(n=m[i])||void 0===n?void 0:n.map((function(e,n){return(0,a.jsx)(x,(0,s.Z)({},e),n)}))]})},p=function(e){e.pageIndex;var n=(0,t.Z)(e,["pageIndex"]),r=b(n),i=r.books,l=r.isError,c=r.isLoading;return(0,a.jsxs)("div",{className:"flex flex-col",children:[l&&(0,a.jsx)(j.Error,{message:"Network Error!"}),c?Array.from({length:10},(function(e,n){return(0,a.jsx)(m.Skeleton,{},n)})):null===i||void 0===i?void 0:i.map((function(e,n){return(0,a.jsx)(m,(0,s.Z)({},e),n)}))]})},w=r(1284),y=function(e){var n=e.length,r=e.setIndex,s=e.index,t=function(e){r(Number(e.currentTarget.value))};return n>1?(0,a.jsxs)("div",{className:"btn-group mx-auto",children:[(0,a.jsx)("button",{className:"btn btn-xs",onClick:function(){return r((function(){return Math.max(0,s-1)}))},children:(0,a.jsx)(w._HF,{})}),Array.from({length:n},(function(e,n){return(0,a.jsx)("button",{className:"btn btn-xs"+(s===n?" btn-active":""),onClick:t,value:n,children:n+1},n)})),(0,a.jsx)("button",{className:"btn btn-xs",onClick:function(){return r((function(){return Math.min(n-1,s+1)}))},children:(0,a.jsx)(w.PS5,{})})]}):(0,a.jsx)(a.Fragment,{})},k=function(e){var n=e.children;return(0,a.jsx)("h1",{className:"text-2xl w-full py-2",children:n})},Z={BooksGrid:N,BooksList:p},I=Object.assign((function(e){var n=e.title,r=e.children;return(0,a.jsxs)("div",{className:"flex flex-col",children:[n&&(0,a.jsx)(k,{children:n}),r]})}),(0,s.Z)({SubBox:function(e){var n=e.title,r=e.children;return(0,a.jsxs)("div",{className:"flex flex-col items-start my-2",children:[n&&(0,a.jsx)("h2",{className:"text-lg w-full py-1",children:n}),r]})},Header:k,Pagination:y},Z))},441:function(e,n,r){r.d(n,{H:function(){return P}});var s=r(1527),a=r(5967),t=r(9493),i=r.n(t),l=r(4717),c=function(e){var n=e.toggleId;return(0,s.jsxs)("div",{className:"drawer-side",children:[(0,s.jsx)("label",{htmlFor:n,className:"drawer-overlay"}),(0,s.jsx)("ul",{className:"menu p-4 overflow-y-auto w-80 bg-base-200 text-base-content",children:l.I.root.map((function(e,n){return(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:e.href,children:(0,s.jsx)("a",{children:e.name})})},n)}))})]})},o=function(e){var n=e.toggleId;return(0,s.jsx)("label",{htmlFor:n,className:"btn btn-ghost btn-circle",children:(0,s.jsx)(a.r0I,{className:"h-6 w-6","aria-hidden":"true"})})},d=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"hidden md:block relative",children:[(0,s.jsx)(a.G4C,{className:"h-6 w-6 absolute top-3 left-3 text-gray-400"}),(0,s.jsx)("div",{className:"form-control",children:(0,s.jsx)("input",{type:"text",placeholder:"Search...",className:"input bg-base-300 text-xl w-96 pl-10"})})]}),(0,s.jsx)(i(),{href:"#",children:(0,s.jsx)("a",{className:"btn btn-ghost btn-circle md:hidden",children:(0,s.jsx)(a.G4C,{className:"h-6 w-6","aria-hidden":"true"})})})]})},u=r(2379),m=r.n(u),x=function(e){var n=e.href,r=e.src,a=e.children;return(0,s.jsx)("div",{className:"flex justify-start",children:(0,s.jsx)(i(),{href:null!==n&&void 0!==n?n:"/",children:(0,s.jsxs)("a",{className:"btn gap-1 btn-ghost normal-case",children:[(0,s.jsx)("span",{className:"sr-only",children:null!==a&&void 0!==a?a:"Logo"}),r?(0,s.jsx)(m(),{src:r,alt:"logo"}):null,(0,s.jsx)("h1",{className:"text-xl font-bold text-base-content",children:a})]})})})},h=r(6747),f=r(2424);function j(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n?"/users/".concat(e,"?").concat((0,f.Z)(n)):"/users/".concat(e),s=(0,h.ZP)(r),a=s.data,t=s.error;return{user:a,isLoading:!t&&!a,isError:t}}var g,v=r(343),b=r(5744),N=function(){var e=j(1),n=e.user,r=e.isError,a=e.isLoading;return r?(0,s.jsx)("div",{className:"text-error",children:"Login Error"}):a?(0,s.jsx)(b.Z.Line,{className:"animate-pulse w-20 mr-4"}):n?(0,s.jsxs)("div",{className:"btn btn-link btn-xs text-base-content",children:["Hi!\xa0",(0,s.jsx)("b",{children:n.username})]}):(0,s.jsx)(i(),{href:"#",children:(0,s.jsx)("a",{className:"btn btn-link btn-xs",children:"Sign in / Sign up"})})},p=function(){var e=j(1),n=e.user,r=e.isError,t=e.isLoading;return r?(0,s.jsx)(v.$Vt,{className:"w-6 h-6 text-error"}):t?(0,s.jsx)(v.H_P,{className:"animate-spin w-6 h-6"}):n?(0,s.jsx)(m(),{src:n.avatar,width:24,height:24,alt:"User avatar"}):(0,s.jsx)(a._K$,{className:"h-6 w-6","aria-hidden":"true"})},w=function(){return j(1).user?(0,s.jsx)("ul",{tabIndex:0,className:"menu menu-compact dropdown-content shadow bg-base-300 rounded-box w-52 mt-3 p-2 sm:mt-4 sm:p-0",children:l.I.user.map((function(e,n){return(0,s.jsx)("li",{children:(0,s.jsx)(i(),{href:e.href,children:(0,s.jsx)("a",{children:e.name})})},n)}))}):(0,s.jsx)(s.Fragment,{})},y=function(){return(0,s.jsxs)("div",{className:"dropdown dropdown-end",children:[(0,s.jsx)("label",{tabIndex:0,className:"hidden sm:block normal-case",children:(0,s.jsx)(N,{})}),(0,s.jsx)("label",{tabIndex:0,className:"btn btn-ghost btn-circle avatar sm:hidden",children:(0,s.jsx)("div",{className:"w-6 rounded-full",children:(0,s.jsx)(p,{})})}),(0,s.jsx)(w,{})]})},k={src:"/_next/static/media/logo.251b33aa.svg",height:24,width:24},Z=function(){return(0,s.jsxs)("div",{className:"hidden h-7 bg-black justify-between sm:flex","data-theme":"dracula",children:[(0,s.jsx)("nav",{className:"navbar min-h-0 flex-1",children:l.I.root.map((function(e,n){return(0,s.jsx)(i(),{href:e.href,children:(0,s.jsx)("a",{className:"btn btn-link btn-xs text-gray-400 hover:text-primary focus:text-primary-focus",children:e.name})},n)}))}),(0,s.jsx)("div",{className:"justify-end",children:(0,s.jsx)(y,{})})]})},I=function(){return(0,s.jsxs)("div",{className:"min-w-full",children:[(0,s.jsx)(Z,{}),(0,s.jsx)("div",{className:"bg-inherit p-2 md:p-0 md:bg-base-300",children:(0,s.jsxs)("header",{className:"navbar p-0 m-auto rounded-md max-w-screen-lg bg-base-300 md:rounded-none",children:[(0,s.jsx)("div",{className:"navbar-start sm:hidden",children:(0,s.jsx)(o,{toggleId:"mobile-menu"})}),(0,s.jsx)("div",{className:"navbar-center sm:navbar-start",children:(0,s.jsx)(x,{src:k,children:"Bookworm"})}),(0,s.jsxs)("div",{className:"navbar-end",children:[(0,s.jsx)(d,{}),(0,s.jsx)("div",{className:"sm:hidden",children:(0,s.jsx)(y,{})})]})]})})]})},L=function(e){var n=e.time,r=e.author,a=(new Date).getFullYear();return(0,s.jsx)("footer",{className:"footer footer-center p-4 bg-base-300 text-base-content",children:(0,s.jsx)("div",{children:(0,s.jsxs)("p",{children:["Copyright \xa9 ",n===a?a:"".concat(n," - ").concat(a),", All right reserved",r?" by ".concat(r):null,"."]})})})},S=function(e){var n=e.children;return(0,s.jsx)("div",{className:"flex flex-col min-h-screen min-w-full w-full",children:n})},E=function(e){var n=e.children;return(0,s.jsx)("main",{className:"flex-1 max-w-screen-lg w-full mx-auto p-6 md:p-4",children:n})},F=(Object.assign(S,{Main:E,Header:I,Footer:L}),g=S,function(e){return(0,s.jsxs)("div",{className:"drawer",children:[(0,s.jsx)("input",{id:e.toggleId,type:"checkbox",className:"drawer-toggle"}),(0,s.jsx)("div",{className:"drawer-content",children:(0,s.jsx)(g,{children:e.children})}),(0,s.jsx)(c,{toggleId:e.toggleId})]})}),P=function(e){var n=e.children;return(0,s.jsxs)(F,{toggleId:"mobile-menu",children:[(0,s.jsx)(I,{}),(0,s.jsx)(E,{children:n}),(0,s.jsx)(L,{time:2022,author:"Zheng Junyi"})]})}},7360:function(e,n,r){r.r(n),r.d(n,{TagsCotroller:function(){return m}});var s=r(8961),a=r(1527),t=r(441),i=r(4717),l=r(9838),c=r(6479),o=r(9493),d=r.n(o),u=function(){var e=(0,c.useRouter)().query.tag;return(0,a.jsxs)(l.Z,{children:[(0,a.jsxs)(l.Z.Header,{children:["Tag: ",e]}),(0,a.jsx)(l.Z.BooksList,{limit:10})]})},m=function(){return(0,a.jsx)(l.Z,{title:"Tags",children:i.p.map((function(e,n){var r;return(0,a.jsx)(l.Z.SubBox,{title:e.name,children:(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:null===(r=e.items)||void 0===r?void 0:r.map((function(e,n){return(0,a.jsx)(x,(0,s.Z)({},e),n)}))})},n)}))})},x=function(e){var n=e.size,r=e.name,s=e.href;return(0,a.jsx)(d(),{href:s,children:(0,a.jsx)("a",{className:"btn btn-".concat(null!==n&&void 0!==n?n:"xs"," normal-case"),children:r})})};n.default=function(){return(0,a.jsx)(t.H,{children:(0,a.jsxs)("div",{className:"flex w-full gap-6 flex-col c-lg:flex-row",children:[(0,a.jsx)("div",{className:"flex basis-5/7 gap-14 max-w-[41rem] flex-col",children:(0,a.jsx)(u,{})}),(0,a.jsx)("div",{className:"flex basis-2/7",children:(0,a.jsx)(m,{})})]})})}}}]);