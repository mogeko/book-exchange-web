(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[327],{1485:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tags/[tag]",function(){return s(6829)}])},6207:function(e,r,s){"use strict";s.d(r,{t:function(){return h},Z:function(){return v}});var n=s(1527),a=s(8143),t=s(2905);var c=s(310);var i=s(1151);function l(e){return function(e){if(Array.isArray(e))return(0,t.Z)(e)}(e)||(0,c.Z)(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o=s(7637),u=function(e){var r=e.rates,s=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;return n<=0?r:s(e-20,l(r).concat([Math.min(20,e)]),n-1)};return(0,n.jsxs)("div",{className:"inline-flex items-center text-amber-400",children:[s(r).map((function(e,r){return e>=20?(0,n.jsx)(o.M2b,{},r):e>=10?(0,n.jsx)(o.bSE,{},r):(0,n.jsx)(o.OTA,{},r)})),(0,n.jsx)("span",{className:"text-base ml-2",children:Math.min(Math.max(0,r/10),10).toFixed(1)})]})},x=s(1776),m=s.n(x),f=s(7680),d=s.n(f),j=Object.assign((function(e){var r=e.title,s=e.cover,a=e.mate,t=e.id;return(0,n.jsxs)("div",{className:"relative flex flex-col w-28",children:[(0,n.jsx)("figure",{className:"flex justify-center items-center",children:(0,n.jsx)(d(),{href:"/books/".concat(t),children:(0,n.jsx)("a",{className:"relative w-28 h-[calc(7rem/2*3)]",children:(0,n.jsx)(m(),{src:s,layout:"fill",alt:r})})})}),(0,n.jsxs)("div",{className:"flex flex-col text-sm",children:[(0,n.jsx)(d(),{href:"/books/".concat(t),children:(0,n.jsx)("a",{className:"link no-underline text-primary hover:bg-primary hover:text-primary-content focus:bg-primary-focus focus:text-primary-content",children:(0,n.jsx)("h2",{className:"truncate",children:r})})}),(0,n.jsx)("p",{className:"truncate",children:a.author})]})]})}),{Skeleton:function(){return(0,n.jsxs)(a.Z.Pulse,{className:"relative flex flex-col mb-4 w-28",children:[(0,n.jsx)(a.Z.Square,{className:"mb-2 w-28 h-[calc(7rem/2*3)]"}),(0,n.jsx)(a.Z.Line,{className:"mb-2 w-24"}),(0,n.jsx)(a.Z.Line,{className:"mb-2 w-20"})]})}}),h=Object.assign((function(e){var r=e.title,s=e.cover,a=e.mate,t=e.desc,c=e.id,i=e.rates;return(0,n.jsxs)("div",{className:"flex py-4 gap-3",children:[(0,n.jsx)("figure",{className:"flex justify-center items-center",children:(0,n.jsx)(d(),{href:"/books/".concat(c),children:(0,n.jsx)("a",{className:"relative w-28 h-[calc(7rem/2*3)]",children:(0,n.jsx)(m(),{src:s,layout:"fill",alt:r})})})}),(0,n.jsxs)("div",{className:"flex flex-col gap-2 h-[calc(7rem/2*3)]",children:[(0,n.jsx)("div",{className:"inline-flex justify-start",children:(0,n.jsx)(d(),{href:"/books/".concat(c),children:(0,n.jsx)("a",{className:"link no-underline text-primary hover:bg-primary hover:text-primary-content focus:bg-primary-focus focus:text-primary-content",children:(0,n.jsx)("h2",{className:"truncate",children:r})})})}),(0,n.jsx)("p",{className:"truncate",children:a.author}),(0,n.jsx)(u,{rates:i}),(0,n.jsx)("p",{className:"line-clamp-3 text-ellipsis",children:null===t||void 0===t?void 0:t.text})]})]})}),{Skeleton:function(){return(0,n.jsxs)(a.Z.Pulse,{className:"relative flex mb-4 w-full gap-3",children:[(0,n.jsx)(a.Z.Square,{className:"mb-2 w-28 h-[calc(7rem/2*3)]"}),(0,n.jsxs)("div",{className:"flex flex-col w-full gap-2",children:[(0,n.jsx)(a.Z.Line,{className:"mb-2 w-1/5"}),(0,n.jsx)(a.Z.Line,{className:"mb-2 w-1/6"}),(0,n.jsxs)("div",{children:[(0,n.jsx)(a.Z.Line,{className:"mb-2 w-4/5"}),(0,n.jsx)(a.Z.Line,{className:"mb-2 w-4/5"}),(0,n.jsx)(a.Z.Line,{className:"mb-2 w-4/5"}),(0,n.jsx)(a.Z.Line,{className:"mb-2 w-4/6"})]})]})]})}}),v=j},5688:function(e,r,s){"use strict";s.d(r,{Z:function(){return f}});var n=s(1527),a=s(1279),t=s(8143),c=s(813);var i=function(e){return(0,c.Z)("/tags",{},e)},l=s(2662),o=s(7680),u=s.n(o),x=function(e){var r=e.size,s=e.name,a=e.href;return(0,n.jsx)(u(),{href:a,children:(0,n.jsx)("a",{className:"btn btn-".concat(null!==r&&void 0!==r?r:"xs"," normal-case"),children:s})})},m=function(){return(0,n.jsx)(n.Fragment,{children:Array.from({length:4},(function(e,r){return(0,n.jsxs)(t.Z.Pulse,{className:"flex flex-col my-2 gap-2 mt-8",children:[(0,n.jsx)(t.Z.Circle,{className:"h-3 w-36 mb-2"}),(0,n.jsx)(t.Z.Line,{className:"w-48"}),(0,n.jsx)(t.Z.Line,{className:"w-48"}),(0,n.jsx)(t.Z.Line,{className:"w-48"})]},r)}))})},f=function(){var e=i(),r=e.data,s=e.isLoading;return e.isError?(0,n.jsx)(a.Z.Error,{message:"Network Error!"}):(0,n.jsx)(l.Z,{title:"Tags",children:s?(0,n.jsx)(m,{}):Object.entries(r).map((function(e,r){var s;return(0,n.jsx)(l.Z.SubBox,{title:e[0],children:(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:null===(s=e[1])||void 0===s?void 0:s.map((function(e,r){return(0,n.jsx)(x,{name:e.replace("-"," "),href:"/tags/".concat(e)},r)}))})},r)}))})}},6829:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return N}});var n=s(1527),a=s(5688),t=s(6997),c=s(8961),i=s(9461),l=s(6207),o=s(1279),u=s(4644),x=s(8057),m=s(959);var f=function(e){var r=(0,m.useState)(!1),s=r[0],n=r[1];return(0,m.useEffect)((function(){var r=new IntersectionObserver((function(e){var r=(0,x.Z)(e,1)[0];n(r.isIntersecting)}));return e.current&&r.observe(e.current),function(){return r.disconnect()}}),[e]),s},d=function(e){var r=(0,u.dd)(e),s=r.data,a=r.size,t=r.setSize,x=(0,i.Z)(r,["data","size","setSize"]),d=(0,m.useRef)(null),j=f(d);return(0,m.useEffect)((function(){j&&!x.isValidating&&a<10&&t(a+1)}),[j,x,a,t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[x.isError&&(0,n.jsx)(o.Z.Error,{message:"Network Error!"}),x.isLoading?Array.from({length:10},(function(e,r){return(0,n.jsx)(l.t.Skeleton,{},r)})):(0,n.jsx)("div",{children:null===s||void 0===s?void 0:s.map((function(e,r){return e.map((function(e,s){return(0,n.jsx)(l.t,(0,c.Z)({},e),"".concat(r,"-").concat(s))}))}))})]}),(0,n.jsx)("div",{ref:d})]})},j=s(2662),h=s(7363),v=function(){var e=(0,h.useRouter)().query.tag;return(0,n.jsxs)(j.Z,{children:[(0,n.jsxs)(j.Z.Header,{children:["Tag: ",e]}),e&&(0,n.jsx)(d,{limit:10,tags_include:e})]})},N=function(){return(0,n.jsx)(t.H,{children:(0,n.jsxs)("div",{className:"flex w-full gap-6 flex-col c-lg:flex-row",children:[(0,n.jsx)("div",{className:"flex basis-5/7 gap-14 max-w-[41rem] flex-col",children:(0,n.jsx)(v,{})}),(0,n.jsx)("div",{className:"flex basis-2/7",children:(0,n.jsx)(a.Z,{})})]})})}},7363:function(e,r,s){e.exports=s(569)}},function(e){e.O(0,[733,117,201,584,768,774,888,179],(function(){return r=1485,e(e.s=r);var r}));var r=e.O();_N_E=r}]);