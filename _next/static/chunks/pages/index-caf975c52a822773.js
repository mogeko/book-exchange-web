(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{638:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1621)}])},1621:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return M}});var s=n(8961),a=n(1527),l=n(343),t=function(e){var r=e.message,n=e.type,s=e.Icon;return(0,a.jsx)("div",{className:"alert alert-".concat(n," shadow-lg"),children:(0,a.jsxs)("div",{children:[(0,a.jsx)(s,{className:"w-6 h-6"}),(0,a.jsx)("span",{children:r})]})})},c={Error:function(e){return(0,a.jsx)(t,(0,s.Z)({type:"error",Icon:l.$Vt},e))},Warning:function(e){return(0,a.jsx)(t,(0,s.Z)({type:"warning",Icon:l.G5O},e))},Info:function(e){return(0,a.jsx)(t,(0,s.Z)({type:"info",Icon:l.h5X},e))},Success:function(e){return(0,a.jsx)(t,(0,s.Z)({type:"success",Icon:l.Mk_},e))}};function i(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.filter(Boolean).join(" ")}var o={Pulse:function(e){var r=e.children,n=e.className;return(0,a.jsx)("div",{className:i(n,"animate-pulse"),children:r})},Line:function(e){var r=e.className;return(0,a.jsx)("div",{className:i(r,"h-2 bg-slate-700 rounded")})},Square:function(e){var r=e.className;return(0,a.jsx)("div",{className:i(r,"bg-slate-700 rounded")})},Circle:function(e){var r=e.className;return(0,a.jsx)("div",{className:i(r,"bg-slate-700 rounded-full")})}},d=n(2379),u=n.n(d),x=n(9493),h=n.n(x),m={Book:function(e){var r=e.title,n=e.cover,s=e.author,l=e.id;return(0,a.jsxs)("div",{className:"relative flex flex-col mb-4 w-28",children:[(0,a.jsx)("figure",{className:"flex justify-center items-center",children:(0,a.jsx)(h(),{href:"/books/".concat(l),children:(0,a.jsx)("a",{className:"relative w-full h-[calc(7rem/2*3)]",children:(0,a.jsx)(u(),{src:n,layout:"fill",alt:r})})})}),(0,a.jsxs)("div",{className:"flex flex-col text-sm",children:[(0,a.jsx)(h(),{href:"/books/".concat(l),children:(0,a.jsx)("a",{className:"link no-underline text-primary hover:bg-primary hover:text-primary-content focus:bg-primary-focus focus:text-primary-content",children:(0,a.jsx)("h2",{className:"truncate",children:r})})}),(0,a.jsx)("p",{className:"truncate",children:s})]})]})},BookSkeleton:function(){return(0,a.jsxs)(o.Pulse,{className:"relative flex flex-col mb-4 w-28",children:[(0,a.jsx)(o.Square,{className:"mb-2 w-28 h-[calc(7rem/2*3)]"}),(0,a.jsx)(o.Line,{className:"mb-2 w-24"}),(0,a.jsx)(o.Line,{className:"mb-2 w-20"})]})}},f=n(6747);var j=function(){var e=(0,f.ZP)("/books"),r=e.data,n=e.error;return{books:r,isLoading:!n&&!r,isError:n}},v=n(5967),b={root:[{name:"My library",href:"#"},{name:"Ranking",href:"#"},{name:"Quote",href:"#"},{name:"I'm Feeling Lucky",href:"#"}],user:[{name:"Profile",href:"#"},{name:"Settings",href:"#"},{name:"Logout",href:"#"}]},N=function(e){var r=e.toggleId;return(0,a.jsxs)("div",{className:"drawer-side",children:[(0,a.jsx)("label",{htmlFor:r,className:"drawer-overlay"}),(0,a.jsx)("ul",{className:"menu p-4 overflow-y-auto w-80 bg-base-200 text-base-content",children:b.root.map((function(e,r){return(0,a.jsx)("li",{children:(0,a.jsx)(h(),{href:e.href,children:(0,a.jsx)("a",{children:e.name})})},r)}))})]})},g=function(e){var r=e.toggleId;return(0,a.jsx)("label",{htmlFor:r,className:"btn btn-ghost btn-circle",children:(0,a.jsx)(v.r0I,{className:"h-6 w-6","aria-hidden":"true"})})},p=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"hidden md:form-control",children:(0,a.jsx)("input",{type:"text",placeholder:"Search",className:"input input-bordered input-primary input-sm w-96"})}),(0,a.jsx)(h(),{href:"#",children:(0,a.jsx)("a",{className:"btn btn-ghost btn-circle md:hidden",children:(0,a.jsx)(v.G4C,{className:"h-6 w-6","aria-hidden":"true"})})})]})},w=function(e){var r=e.href,n=e.src,s=e.children;return(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsx)(h(),{href:null!==r&&void 0!==r?r:"/",children:(0,a.jsxs)("a",{className:"btn gap-1 btn-ghost normal-case",children:[(0,a.jsx)("span",{className:"sr-only",children:null!==s&&void 0!==s?s:"Logo"}),n?(0,a.jsx)(u(),{src:n,alt:"logo"}):null,(0,a.jsx)("h1",{className:"text-xl font-bold text-base-content",children:s})]})})})};function y(e){var r=(0,f.ZP)("/users/".concat(e)),n=r.data,s=r.error;return{user:n,isLoading:!s&&!n,isError:s}}var k,I=function(){var e=y(1),r=e.user,n=e.isError,s=e.isLoading;return n?(0,a.jsx)("div",{className:"text-error",children:"Login Error"}):s?(0,a.jsx)(o.Line,{className:"animate-pulse w-20 mr-4"}):r?(0,a.jsxs)("div",{className:"btn btn-link btn-xs text-base-content",children:["Hi!\xa0",(0,a.jsx)("b",{children:r.username})]}):(0,a.jsx)(h(),{href:"#",children:(0,a.jsx)("a",{className:"btn btn-link btn-xs",children:"Sign in / Sign up"})})},_=function(){var e=y(1),r=e.user,n=e.isError,s=e.isLoading;return n?(0,a.jsx)(l.$Vt,{className:"w-6 h-6 text-error"}):s?(0,a.jsx)(l.H_P,{className:"animate-spin w-6 h-6"}):r?(0,a.jsx)(u(),{src:r.avatar,width:24,height:24,alt:"User avatar"}):(0,a.jsx)(v._K$,{className:"h-6 w-6","aria-hidden":"true"})},E=function(){return y(1).user?(0,a.jsx)("ul",{tabIndex:0,className:"menu menu-compact dropdown-content shadow bg-base-300 rounded-box w-52 mt-3 p-2 sm:mt-4 sm:p-0",children:b.user.map((function(e,r){return(0,a.jsx)("li",{children:(0,a.jsx)(h(),{href:e.href,children:(0,a.jsx)("a",{children:e.name})})},r)}))}):(0,a.jsx)(a.Fragment,{})},L=function(){return(0,a.jsxs)("div",{className:"dropdown dropdown-end",children:[(0,a.jsx)("label",{tabIndex:0,className:"hidden sm:block normal-case",children:(0,a.jsx)(I,{})}),(0,a.jsx)("label",{tabIndex:0,className:"btn btn-ghost btn-circle avatar sm:hidden",children:(0,a.jsx)("div",{className:"w-6 rounded-full",children:(0,a.jsx)(_,{})})}),(0,a.jsx)(E,{})]})},S={src:"/_next/static/media/logo.251b33aa.svg",height:24,width:24},P=function(){return(0,a.jsxs)("div",{className:"hidden h-7 bg-black justify-between sm:flex","data-theme":"dracula",children:[(0,a.jsx)("nav",{className:"navbar min-h-0 flex-1",children:b.root.map((function(e,r){return(0,a.jsx)(h(),{href:e.href,children:(0,a.jsx)("a",{className:"btn btn-link btn-xs text-gray-400 hover:text-primary focus:text-primary-focus",children:e.name})},r)}))}),(0,a.jsx)("div",{className:"justify-end",children:(0,a.jsx)(L,{})})]})},Z=function(){return(0,a.jsxs)("div",{className:"min-w-full",children:[(0,a.jsx)(P,{}),(0,a.jsx)("div",{className:"bg-inherit p-2 md:p-0 md:bg-base-300",children:(0,a.jsxs)("header",{className:"navbar p-0 m-auto rounded-md max-w-screen-lg bg-base-300 md:rounded-none",children:[(0,a.jsx)("div",{className:"navbar-start sm:hidden",children:(0,a.jsx)(g,{toggleId:"mobile-menu"})}),(0,a.jsx)("div",{className:"navbar-center sm:navbar-start",children:(0,a.jsx)(w,{src:S,children:"Bookworm"})}),(0,a.jsxs)("div",{className:"navbar-end",children:[(0,a.jsx)(p,{}),(0,a.jsx)("div",{className:"sm:hidden",children:(0,a.jsx)(L,{})})]})]})})]})},F=function(e){var r=e.time,n=e.author,s=(new Date).getFullYear();return(0,a.jsx)("footer",{className:"footer footer-center p-4 bg-base-300 text-base-content",children:(0,a.jsx)("div",{children:(0,a.jsxs)("p",{children:["Copyright \xa9 ",r===s?s:"".concat(r," - ").concat(s),", All right reserved",n?" by ".concat(n):null,"."]})})})},B=function(e){var r=e.children;return(0,a.jsx)("div",{className:"flex flex-col min-h-screen min-w-full w-full",children:r})},C=function(e){var r=e.children;return(0,a.jsx)("main",{className:"flex-1 max-w-screen-lg w-full mx-auto p-6 md:p-4",children:r})},O=(Object.assign(B,{Main:C,Header:Z,Footer:F}),k=B,function(e){return(0,a.jsxs)("div",{className:"drawer",children:[(0,a.jsx)("input",{id:e.toggleId,type:"checkbox",className:"drawer-toggle"}),(0,a.jsx)("div",{className:"drawer-content",children:(0,a.jsx)(k,{children:e.children})}),(0,a.jsx)(N,{toggleId:e.toggleId})]})}),A=function(e){var r=e.children;return(0,a.jsxs)(O,{toggleId:"mobile-menu",children:[(0,a.jsx)(Z,{}),(0,a.jsx)(C,{children:r}),(0,a.jsx)(F,{time:2022,author:"Zheng Junyi"})]})},H=function(){var e=j(),r=e.books,n=e.isError,l=e.isLoading;return(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("h1",{children:"Currently"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-6",children:n?(0,a.jsx)(c.Error,{message:"Network Error!"}):l?Array.from({length:10},(function(e,r){return(0,a.jsx)(m.BookSkeleton,{},r)})):null===r||void 0===r?void 0:r.map((function(e){return(0,a.jsx)(m.Book,(0,s.Z)({},e),e.id)}))})]})},M=function(){return(0,a.jsxs)(A,{children:[(0,a.jsx)("div",{className:"flex max-w-[43rem]",children:(0,a.jsx)("div",{className:"flex flex-col w-full",children:(0,a.jsx)(H,{})})}),(0,a.jsx)("div",{className:"flex w-full"})]})}}},function(e){e.O(0,[733,117,701,774,888,179],(function(){return r=638,e(e.s=r);var r}));var r=e.O();_N_E=r}]);