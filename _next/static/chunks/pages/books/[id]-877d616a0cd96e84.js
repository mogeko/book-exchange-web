(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[125],{7999:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/books/[id]",function(){return n(5133)}])},5133:function(e,s,n){"use strict";n.r(s),n.d(s,{BookView:function(){return b},default:function(){return Z}});var l=n(1527),i=n(5557),a=n(2003),r=n(5669),t=n(8207),c=n(6260),d=n(1284),o=n(9670),x=n(959);var u=function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sm",n=function(n){var i=n.url,a=n.foldedData,r=(0,x.useState)(!1),c=r[0],u=r[1],j=function(){var n=(0,o.Z)(i),r=n.data,c=n.isError,x=n.isLoading;return c?(0,l.jsx)(t.Z.Error,{message:"Network Error!"}):x?(0,l.jsxs)("div",{className:"flex flex-col items-start",children:[(0,l.jsx)(e,{children:null===a||void 0===a?void 0:a.text}),(0,l.jsx)("button",{className:"btn btn-".concat(s," btn-link loading"),children:"Loading..."})]}):(0,l.jsxs)("div",{className:"flex flex-col items-start",children:[(0,l.jsx)(e,{children:null===r||void 0===r?void 0:r.text}),(0,l.jsxs)("button",{onClick:f,className:"btn btn-".concat(s," btn-link"),children:[(0,l.jsx)(d.$Pg,{className:"w-5 h-5"})," Read less"]})]})},h=function(){return(0,l.jsxs)("div",{className:"flex flex-col items-start",children:[(0,l.jsx)(e,{children:null===a||void 0===a?void 0:a.text}),(null===a||void 0===a?void 0:a.is_folded)&&(0,l.jsxs)("button",{onClick:f,className:"btn btn-".concat(s," btn-link"),children:[(0,l.jsx)(d.iUH,{className:"w-5 h-5"})," Read more"]})]})},f=function(){return u(!c)};return c?(0,l.jsx)(j,{}):(0,l.jsx)(h,{})};return n},j=n(8057),h=n(2379),f=n.n(h),m=function(){return(0,l.jsxs)("div",{className:"my-4 flex w-full gap-3",children:[(0,l.jsx)(c.Z.Square,{className:"relative w-32 h-48"}),(0,l.jsx)("div",{className:"flex flex-col gap-3",children:Array.from({length:10}).map((function(e,s){return(0,l.jsxs)("div",{className:"inline-flex gap-2",children:[(0,l.jsx)(c.Z.Line,{className:"w-14"}),(0,l.jsx)(c.Z.Line,{className:"w-32"})]},s)}))})]})},v=function(e){var s=e.title,n=e.cover,i=e.mate;return(0,l.jsxs)("div",{className:"my-4 flex w-full gap-3",children:[(0,l.jsx)("figure",{className:"flex items-center justify-center",children:(0,l.jsx)("div",{className:"relative w-32 h-48",children:(0,l.jsx)(f(),{src:n,layout:"fill",alt:s})})}),(0,l.jsx)("div",{className:"flex flex-col",children:Object.entries(null!==i&&void 0!==i?i:{}).map((function(e,s){var n=(0,j.Z)(e,2),i=n[0],a=n[1];return"paperback"===i||"hardcover"===i?(0,l.jsxs)("div",{className:"inline-flex gap-1 text-base",children:[(0,l.jsxs)("span",{className:"capitalize",children:[i,":"]}),(0,l.jsxs)("span",{children:[a," pages"]})]},s):"publication_date"===i?(0,l.jsxs)("div",{className:"inline-flex gap-1 text-base",children:[(0,l.jsxs)("span",{className:"capitalize",children:[i,":"]}),(0,l.jsx)("span",{children:new Date(a).getFullYear()})]},s):"isbn"===i?(0,l.jsxs)("div",{className:"inline-flex gap-1 text-base",children:[(0,l.jsxs)("span",{className:"uppercase",children:[i,":"]}),(0,l.jsx)("span",{children:a})]},s):(0,l.jsxs)("div",{className:"inline-flex gap-1 text-base",children:[(0,l.jsxs)("span",{className:"capitalize",children:[i,":"]}),(0,l.jsx)("span",{children:a})]},s)}))})]})},N=n(6479),b=function(e){var s=e.id,n=(0,r.CQ)(s),i=n.data,c=n.isError,d=n.isLoading;return c?(0,l.jsx)(t.Z.Error,{message:"Network Error!"}):d?(0,l.jsx)(g,{}):(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(a.Z.Header,{children:null===i||void 0===i?void 0:i.title}),(0,l.jsx)(v,{title:null===i||void 0===i?void 0:i.title,cover:null===i||void 0===i?void 0:i.cover,mate:null===i||void 0===i?void 0:i.mate}),(0,l.jsx)(a.Z.SubBox,{title:"About this book",children:(0,l.jsx)(p,{foldedData:null===i||void 0===i?void 0:i.desc,url:"/books/".concat(s,"/desc")})}),(0,l.jsx)(a.Z.SubBox,{title:"Popular Highlights in this book",children:(0,l.jsx)(p,{foldedData:null===i||void 0===i?void 0:i.digest,url:"/books/".concat(s,"/digest")})})]})},p=u((function(e){var s=e.children;return(0,l.jsx)("p",{className:"indent-8",children:s})})),g=function(){return(0,l.jsx)(c.Z.Pulse,{children:(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(c.Z.Square,{className:"h-6 w-40 my-1"}),(0,l.jsx)(m,{}),(0,l.jsxs)(a.Z.SubBox,{children:[(0,l.jsx)(c.Z.Square,{className:"h-4 w-44 mb-4"}),(0,l.jsx)(w,{})]}),(0,l.jsxs)(a.Z.SubBox,{children:[(0,l.jsx)(c.Z.Square,{className:"h-4 w-44 mb-4"}),(0,l.jsx)(w,{})]})]})})},w=function(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"inline-flex w-full mb-3",children:[(0,l.jsx)("div",{className:"w-8"}),(0,l.jsx)(c.Z.Line,{className:"w-full"})]}),Array.from({length:3}).map((function(e,s){return(0,l.jsx)(c.Z.Line,{className:"w-full mb-3"},s)})),(0,l.jsx)(c.Z.Line,{className:"w-64"})]})},Z=function(){var e=(0,N.useRouter)().query;return(0,l.jsx)(i.H,{children:(0,l.jsx)(b,{id:e.id})})}},6479:function(e,s,n){e.exports=n(8035)}},function(e){e.O(0,[733,117,154,555,917,774,888,179],(function(){return s=7999,e(e.s=s);var s}));var s=e.O();_N_E=s}]);